---
import { getSinglePage } from "@/lib/contentParser.astro";

const posts = await getSinglePage("posts");

const currentPostIndex = posts.findIndex(
  (post) => post.id === Astro.params.single
);

const lastIndex = posts.length - 1;
const prev =
  currentPostIndex == 0 ? undefined : posts[currentPostIndex - 1]?.id;
const next =
  currentPostIndex == lastIndex ? undefined : posts[currentPostIndex + 1]?.id;
---

<div class="row">
  <span class="col">
    {
      prev && (
        <a href={prev} class={"btn btn-primary"}>
          Prev
        </a>
      )
    }
  </span>
  <span class="col-8"></span>
  <span class="col">
    {
      next && (
        <a href={next} class={"btn btn-primary"}>
          Next
        </a>
      )
    }
  </span>
</div>
